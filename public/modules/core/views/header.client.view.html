<div ng-controller="HeaderController">
    <div class="site-search-wrapper">
        <div class="content-wrapper">
            <section id="site-search">
                <div class="col-lg-12">
                    <div class="site-search-form">
                        <meta itemprop="target" content="http://www.focali.com/search?q={query}"/>
                        <input ng-model="searchText" itemprop="query-input" type="text" name="query" placeholder="Search for product">
                        <button ng-click="search(searchText)"><img src="design/images/search-icon.png" width="20" height="auto"/></button>
                        <a class="close" id="search-close" href="#"><img src="design/images/close-button.png" width="30" height="30" alt="close-search"/>
                    </div>
                </div>
            </section>
        </div>
    </div>
    <div class="content-wrapper">
        <header id="main">
            <div class="brand">
                <a href="/" rel="logo"><img src="design/images/focalilogo.png" alt="Focali" width="102" height="40"</a>
            </div>
            <nav id="primary" itemscope itemtype="http://schema.org/SiteNavigationElement">
                <ul class="main-navigation">
                    <li class="has-children">
                        <a href="#">Men</a>
                        <ul class="sub-menu">
                            <li><a href="#!/categories/men/eyewear">Men's Eyewear</a></li>
                            <li><a href="#!/categories/men/sunglasses">Men's Sunglasses</a></li>
                            <li><a href="#!/landing/summer/men">Men's Summer 2015</a></li>
                        </ul>
                    </li>
                    <li class="has-children">
                        <a href="#">Women</a>
                        <ul class="sub-menu">
                            <li><a href="#!/categories/women/eyewear">Women's Eyewear</a></li>
                            <li><a href="#!/categories/women/sunglasses">Women's Sunglasses</a></li>
                            <li><a href="#!/landing/summer/women">Women's Summer 2015</a></li>
                        </ul>

                    </li>
                    <li><a href="#!/about-us">About Us</a></li>
                    <li><a href="#!/help">Help</a></li>
                </ul>
            </nav>
            <div class="top-cart">
                <div class="search">
                    <a href="#" id="search-expander"><img src="design/images/search-icon.png" width="20" height="auto"/></a>
                </div>
                <div class="top-user-name">
                    <a href="#!/login" class="site-login" data-ng-hide="authentication.user">Login</a>
                    <a class="top-name" href="#!/account" data-ng-show="authentication.user">Welcome back {{authentication.user.firstName}}</a><br/>
                    <a href="#!/account" class="my-account-top" data-ng-show="authentication.user">My Account</a> <span data-ng-show="authentication.user">/</span> <a href="/auth/signout" class="site-login" data-ng-click="logout()"
                                                                                                                       data-ng-show="authentication.user">Logout</a>
                </div>
			<span class="cart-contents">
				<a href="#!/cart" class="btn creme radius xsmall outline cart cart-class" id="top-cart-tr"><i
                        class="cart-icon"></i> Cart <span class="items-in-cart">({{cart.lineItems.length}})</span></a>
				<div ng-if="cart.lineItems" class="cart-preview hidden">
                    <table id="cart-preview">
                        <thead>
                        <th id="cp-product">Product</th>
                        <th id="cp-qty">Quantity</th>
                        <th id="cp-price">Price</th>
                        </thead>
                        <tbody>
                        <tr ng-repeat="lineItem in cart.lineItems track by lineItem.id" class="product-preview">
                            <td><a ng-click="removeFromCart(lineItem)" class="remove-product" href="">X</a> {{lineItem.name.en}}</td>
                            <td class="cp-qty-td">{{lineItem.quantity}}</td>
                            <td class="cp-price-td">{{$utils.getCurrencySimbol(lineItem.price.value.currencyCode)}}{{lineItem.price.value.centAmount * lineItem.quantity / 100}}</td>
                        </tr>
                        </tbody>
                    </table>
                    <a href="#!/cart" id="view-cart-btn" class="btn radius small outline thick blue">View Cart</a>
                    <a href="#!/checkout" class="btn radius small blue">Checkout</a>
                </div>
			</span>

            </div>
        </header>
    </div>
</div>
<script type="text/javascript">
    $(function () {
        $('#search-expander').click(function () {
            $('.site-search-wrapper').addClass('showing');
            return false;
        });
        $('#search-close').click(function () {
            $('.site-search-wrapper').removeClass('showing');
            return false;
        });
    });
</script>
